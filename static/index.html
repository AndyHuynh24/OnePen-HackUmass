<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Onepen</title>
  <link rel="stylesheet" href="style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    <link
        href="https://fonts.googleapis.com/css2?family=Mali:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">
    <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script> -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body>
    <div id="toolbar">
       <button id="tocBtn" class="navBtn" style="font-size:20px;">
          <i class="bx bx-list-ul"></i>
        </button>
        <div id="tocDropdown"></div>
        <span class="break"></span> 
        <button onclick="undo()"><i class='bx bx-undo'></i></button>
        <button onclick="redo()"><i class='bx bx-redo'></i></button>
        <!-- <button onclick="toggleEraser()"><i class='bx bx-eraser'></i></button> -->
        <!-- <button id="addImageBtn">Add Image</button> -->
        <!-- <input type="file" id="imageInput" accept="image/*" style="display:none" />
        <button onclick="toggleViewer()">Hide</button> -->
        <span class="break"></span>
        </button>
        <div id="scaleIndicator"><i class='bx bx-move-diagonal-left'></i> 100%</div>
        <span class="break"></span>
        <button onclick="toggleSetting()"><i class='bx bx-cog'></i></button>
        
        
        <!-- <button onclick="reLabel(currentStroke)">False label</button> -->
        <!-- <button onclick="backupToDrive()">Export Drive</button>
        <button onclick="restoreBackupFromDrive()">ðŸ“¥ Restore Backup</button>
        <input type="file" id="import-file" accept=".json" style="display:none" />
        <button onclick="document.getElementById('import-file').click()">ðŸ“‚ Import Notes</button> -->
        <!-- <button onclick="clearCanvas()">Delete all</i></button>
        <button id="saveNoteButton" onclick="saveGroup()"><i class='bx bx-save'></i></button>
        <button onclick="openModal()">Normal/Title input</button>
        <button onclick="createAndSaveNote()">New note</button>
        <button onclick="exportFullCanvasToPDF(allGroups)">Download PDF</button> -->
    </div>

    <div class="canvasGroup" id="canvasGroup">
        <nav class="penTools" id="penTools">
            <div class="nav-content">
                <div class="toggle-btn"><i class='bx bx-plus'></i></div>
            </div>
        </nav>
        <canvas id="liveCanvas" class="canvas"></canvas>
        <canvas id="drawCanvas" class="canvas"></canvas>
        <canvas id="backgroundCanvas" class="canvas"></canvas>
    </div>

    <canvas id="viewer" width="136" height="136" class="show"
        style="position: fixed; z-index: 1000000000000000; bottom: 10px; left: 10px; border: 2px solid black; background: white;">
    </canvas>

    <button id="openNavBtn" onclick="toggleNav()">â˜° Notes</button>
    <!-- <button id="openSettingBtn" onclick="toggleSetting()"><i class='bx bx-cog'></i></button> -->
    <!-- Slide-Out Note Navbar -->
    <div id="notenavbar">
        <!-- <button onclick="selectNoteDirectory()" style="width: 50%"> Select Folder</button> -->
        <div class="buttonGroup">
            <div id="driveGroup">
              <button onclick="backupToDrive()">Sync To Drive</button>
              <button onclick="restoreBackupFromDrive()">Load from Drive</button>
            </div>
            <div id="functionGroup" >
                <button onclick="promptNewFolder()" class="navBtn" style="font-size: 20px;">
                  <i class='bx  bx-plus-circle'></i> 
                </button>
                <button onclick="exportCanvasToPDF(allGroups)" style="font-size: 20px;"> <i class='bx  bx-arrow-down-stroke-circle'></i></button>
            </div>
   
        </div>
        <div class="shelf">
            <div class="notes">
                <p id="starter">Please select a notebook</p>
                <div id="menubar" style="display: none">
                   <button id="sendToTotalBtn">Summarize</button>
                   <span class="break"></span>
                    <button id="renameBtn">Rename</button>
                    <span class="break"></span>
                    <button id="deleteBtn"><i class="bx bx-trash"></i></button>
                    <span class="break"></span>
                    <button onclick="promptNewNote(selectedFolder)">New Note</i></button>
                </div>
                <div id="note-list"></div>
            </div>
            <div class="folder"></div>
        </div>
    
        <div class="twoButton">
        <!-- <button onclick="backupToDrive()">Sync to drive</button>
        <button onclick="restoreBackupFromDrive()">Load fom drive</button> -->
        </div>
        <!-- <button onclick="extractFormula(fileLists)" id='export'>Extract formula</button> -->
    </div>
    
    <div class="settings-wrapper" id="settings-wrapper">
    <div class="grid-section">
      <div id = "userInfo">
        <h2>Hi, </h2> 
        <p>Google drive connection has been established, on "Notes" side panel click sync to drive to save all current notes to drive, click restore from drive to import data from drive</p>
      </div>
      <div id="signin">
        <button id="signin-btn">Sign In Google</button>
        <button id="signout-btn" onclick="signOut()">Sign out</button>
      </div>
      <h2>Background:</h2>
      <label>Background color:</label>
      <input type="color" value='#201f1e'>

      <label>Grid style:</label>
      <div class="grid-row grid-style-options">
        <button class="active">Line + symbol</button>
        <button>Square + symbol</button>
      </div>

      <label>Grid width:</label>
      <div class="range-row">
        <span>min</span>
        <input type="range" min="10" max="40" value="20">
        <span>max</span>
      </div>

      <label>Stroke width:</label>
      <div class="range-row">
        <span>min</span>
        <input type="range" min="10" max="40" value="20">
        <span>max</span>
      </div>
    </div>

    <div class="modifier-section">
      <h2>Modifiersâ€™s styles</h2>
      <div class="modifier-grid">

        <!-- Repeat this block for each modifier -->
        <div class="modifier-card" data-modifier="title1">
          <div class="modifier-title">Title 1:</div>

          <label>Color:</label>
          <input type="color" value="#ff6a00" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="title2">
          <div class="modifier-title">Title 2:</div>

          <label>Color:</label>
          <input type="color" value="#f4c64a" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="highlight1">
          <div class="modifier-title">Highlight 1:</div>

          <label>Color:</label>
          <input type="color" value="#ffff00" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid">Pen</option>
            <option value="dashed" selected>Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="highlight2">
          <div class="modifier-title">Highlight 2:</div>

          <label>Color:</label>
          <input type="color" value="#ffff00" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid">Pen</option>
            <option value="dashed" selected>Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="highlight3">
          <div class="modifier-title">Highlight 3:</div>

          <label>Color:</label>
          <input type="color" value="#00ffff" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid">Pen</option>
            <option value="dashed" selected>Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="box">
          <div class="modifier-title">Box:</div>

          <label>Color:</label>
          <input type="color" value="#ffb6ff" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="boxshortcut">
          <div class="modifier-title">Box-shortcut:</div>

          <label>Color:</label>
          <input type="color" value="#a3fba9" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="curly">
          <div class="modifier-title">Curly:</div>

          <label>Color:</label>
          <input type="color" value="#fa6e6e" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="modifier-card" data-modifier="curlyshortcut">
          <div class="modifier-title">Curly-shortcut:</div>

          <label>Color:</label>
          <input type="color" value="#74e8ff" id="colorInput">

          <label>Pen type:</label>
          <select>
            <option value="solid" selected>Pen</option>
            <option value="dashed">Highlighter</option>
          </select>

          <div class="modifier-footer">
            <label>Modifierâ€™s visibility:</label>
            <label class="toggle-switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
        </div>
  
     
       <!-- More modifier-card blocks can be added here -->

      </div>
    </div>
  </div>

  <div id="scrollbar">
    <div id="thumb"></div>
  </div>


  <script src="tf.min.js"></script>
  <script src="math.js"></script>
  <script src="predict.js"></script>
  <script src="draw.js"></script>
  <script src="main.js"></script>
  <script src="saveNote.js"></script>
  <script src="signin.js"></script>
</body>
</html>
